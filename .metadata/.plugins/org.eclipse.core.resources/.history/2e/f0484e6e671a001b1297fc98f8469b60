<%@page import="java.util.List"%>
<%@page import="java.util.ArrayList"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>

<%
    
    //1. 좌석정보를 받습니다.
	String[] seats = request.getParameterValues("seat");
    //2. 좌석정보를 저정 할 List 생성
    ArrayList<String> list = new ArrayList<>();
    //3. application 에서 좌석 정보가 존재하면 2번 리스트에 저장
    
    //4. 좌석정보를 비교해서 중복이 없을 때 하나씩 저장해놓을 사본리스트 생성
    ArrayList<String> temp = new ArrayList<>();
    //4. 좌석정보와 2번의 리스트를 비교해서, 중복된 좌석이 아니라면, 2번에 리스트애 좌석정보를 추가합니다.
    for(String s : seat )  //향상 for문  seat 길이만큼 돌깅
    //5. 사본리스트와 좌석 정보가 길이가 같다면, 중복이 없으므로, 2번의 리스트에 통째로 사본리스트를 추가
    
    //6.application 에 같은 이름으로 저장
    
    //7. 화면에 예약 성공실패의 결과를 출력해주세요.

    
    request.setCharacterEncoding("utf-8");
    
    String seat = (String) request.getAttribute("seat");
        
    ArrayList<String> list2 = new ArrayList<>();
    
    ArrayList<String> list_t = new ArrayList<>();
    
    
    %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

 <h2>예매 결과</h2>
  <%  if(application.getAttribute("seat") != null){
    	list.add(seat);
    	
    for (int i = 0; i < list_t.size(); i++){
    	 if(list_t.contains(list.get(i))){ %>
    	<h2>중복: 예매 실패 </h2>
    		 
    	<%  }else{
    		 list_t.addAll(list); %>
     	<h2>예매 성공</h2>
    <% 		 }
    	}
  
    }else {
    	 list_t.addAll(list);
    }
  
  
  application.setAttribute("seat", seat);
  %>
    
    


</body>
</html>